module.exports = {
    parserOptions: {
        project: './tsconfig.json',
        createDefaultProgram: true,
    },
    extends: [
        './../../.eslintrc.js',
        'eslint:recommended',
        'plugin:json/recommended',
        'airbnb-base',
        'airbnb-typescript/base',
        'prettier',
    ],
    rules: {
        'import/prefer-default-export': 'off',
        '@typescript-eslint/no-unused-vars': 'off',
        'no-console': 'off',
        'no-underscore-dangle': 'off',
        'max-classes-per-file': 'off',
        'no-case-declarations': 'off',
        'no-template-curly-in-string': 'off',
        'no-restricted-syntax': 'off',
        eqeqeq: 'error',
    },
    overrides: [
        
        {
            files: ['*.ts'], 
            rules: {
                "@typescript-eslint/no-unsafe-member-access": "error",
                "@typescript-eslint/no-unsafe-assignment": "error",
                "@typescript-eslint/no-unsafe-call": "error"
            }
        },
        {
            // Only throw warning for existing files, new files should be error
            files: [
                'src/database/migrations/*.ts',
                'src/routers/*.ts',

                'src/App.ts',
                'src/SchedulerApp.ts',
                'src/analytics/LightdashAnalytics.ts',
                'src/clients/DockerHub/DockerHub.ts',
                'src/clients/EmailClient/EmailClient.ts',
                'src/clients/Google/GoogleDriveClient.ts',
                'src/clients/Slack/Slackbot.ts',
                'src/clients/github/Github.ts',
                'src/config/parseConfig.test.ts',
                'src/config/parseConfig.ts',
                'src/controllers/authentication/middlewares.ts',
                'src/controllers/csvController.ts',
                'src/controllers/savedChartController.ts',
                'src/controllers/userController.ts',
                'src/database/pagination/index.ts',
                'src/dbt/DbtMetadataApiClient.ts',
                'src/dbt/dbtCliClient.ts',
                'src/ee/authentication/middleware.test.ts',
                'src/ee/authentication/middlewares.ts',
                'src/ee/clients/OpenAi.ts',
                'src/ee/models/EmbedModel.ts',
                'src/ee/services/AiService/AiService.ts',
                'src/ee/services/AiService/utils/langchainUtils.ts',
                'src/models/AnalyticsModel.ts',
                'src/models/CatalogModel/CatalogModel.ts',
                'src/models/CommentModel/CommentModel.ts',
                'src/models/DashboardModel/DashboardModel.test.ts',
                'src/models/DashboardModel/DashboardModel.ts',
                'src/models/DashboardModel/PersonalAccessTokenModel.ts',
                'src/models/GroupsModel.ts',
                'src/models/OrganizationMemberProfileModel.ts',
                'src/models/OrganizationModel.ts',
                'src/models/ProjectModel/ProjectModel.ts',
                'src/models/ResourceViewItemModel.ts',
                'src/models/SavedChartModel.ts',
                'src/models/SearchModel/index.ts',
                'src/models/SlackAuthenticationModel.ts',
                'src/models/SpaceModel.ts',
                'src/models/UserModel.ts',
                'src/models/ValidationModel/ValidationModel.ts',
                'src/projectAdapters/dbtBaseProjectAdapter.ts',
                'src/routers/apiV1Router.ts',
                'src/routers/dashboardRouter.ts',
                'src/routers/headlessBrowser.ts',
                'src/routers/projectRouter.ts',
                'src/routers/slackRouter.ts',
                'src/scheduler/SchedulerClient.ts',
                'src/scheduler/SchedulerTask.ts',
                'src/scheduler/SchedulerWorker.ts',
                'src/scheduler/SchedulerWorkerEventEmitter.ts',
                'src/sentry.ts',
                'src/services/CatalogService/CatalogService.ts',
                'src/services/CsvService/CsvService.ts',
                'src/services/CsvService/convertSqlToCsv.ts',
                'src/services/HealthService/HealthService.ts',
                'src/services/ProjectService/ProjectService.test.ts',
                'src/services/ProjectService/ProjectService.ts',
                'src/services/ProjectService/formatRows.ts',
                'src/services/SchedulerService/SchedulerService.ts',
                'src/services/UnfurlService/UnfurlService.ts',
                'src/services/UserService.mock.ts',
                'src/services/UserService.ts',
                'src/services/ValidationService/ValidationService.mock.ts',
                'src/version.ts'
            ], 
            rules: {
                "@typescript-eslint/no-unsafe-member-access": "warn",
                "@typescript-eslint/no-unsafe-assignment": "warn",
                "@typescript-eslint/no-unsafe-call": "warn"
            }
        },
       
    ]

};
